(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(t,e,a){t.exports=a(268)},120:function(t,e,a){},215:function(t,e,a){},226:function(t,e,a){},268:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(14),i=a.n(r),c=(a(120),a(21)),l=a(22),o=a(24),u=a(23),h=a(34),d=a(271),f=a(26),p=a.n(f),m=a(49),v=a(270),y=(a(215),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={fetchedData:null,labels:[],datasets:[{label:"",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[]}],years:null,startYear:"1881",endYear:"2006"},n}return Object(l.a)(a,[{key:"chunkify",value:function(t,e,a){if(e<2)return[t];var n,s=t.length,r=[],i=0;if(s%e===0)for(n=Math.floor(s/e);i<s;)r.push(t.slice(i,i+=n));else if(a)for(;i<s;)n=Math.ceil((s-i)/e--),r.push(t.slice(i,i+=n));else{for(e--,s%(n=Math.floor(s/e))===0&&n--;i<n*e;)r.push(t.slice(i,i+=n));r.push(t.slice(n*e))}return r}},{key:"lastValue",value:function(t){var e=t[t.length-1];return e[e.length-1]}},{key:"getAverageValue",value:function(t){var e=0;for(var a in t)e+=t[a].v;return e/t.length}},{key:"getYears",value:function(t){var e=[];return t.forEach((function(t){e.push(t.t.match(/^\d{4}/)[0])})),e.filter((function(t,a){return e.indexOf(t)===a}))}},{key:"getData",value:function(){var t=Object(m.a)(p.a.mark((function t(){var e,a,n,s,r,i=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:5000/temp",t.next=3,fetch("http://localhost:5000/temp");case 3:return e=t.sent,t.next=6,e.json();case 6:a=t.sent,this.setState({fetchedData:a.filter((function(t){return t.t.match(/^\d{4}/)[0]>=i.state.startYear&&t.t.match(/^\d{4}/)[0]<=i.state.endYear}))}),n=this.chunkify(this.state.fetchedData,10,!0),console.log(n),s=this.state.labels,r=this.state.datasets,n.map((function(t){s.push("".concat(t[0].t.match(/^\d{4}/)," - ").concat(t[t.length-1].t.match(/^\d{4}/))),r[0].data.push(i.getAverageValue(t))})),this.setState({labels:s,datasets:r,years:this.getYears(this.state.fetchedData)});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setStart",value:function(t){this.setState({startYear:t.target.value})}},{key:"setEnd",value:function(t){this.setState({endYear:t.target.value})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(t,e){var a=this;if(e.startYear!==this.state.startYear&&this.state.endYear>this.state.startYear||e.endYear!==this.state.endYear&&this.state.endYear>this.state.startYear){console.log("state has changed."),this.setState({fetchedData:this.state.fetchedData.filter((function(t){return t.t.match(/^\d{4}/)[0]>=a.state.startYear&&t.t.match(/^\d{4}/)[0]<=a.state.endYear}))});var n=this.chunkify(this.state.fetchedData,10,!0);console.log(n);var s=[],r=this.state.datasets;r[0].data=[],n.map((function(t){s.push("".concat(t[0].t.match(/^\d{4}/)," - ").concat(t[t.length-1].t.match(/^\d{4}/))),r[0].data.push(a.getAverageValue(t))})),this.setState({labels:s,datasets:r})}else(this.state.startYear>this.state.endYear||this.state.startYear==this.state.endYear)&&alert("fix values")}},{key:"render",value:function(){var t=this;return null===this.state.years?s.a.createElement("div",{className:"spinner"},s.a.createElement(v.a,{size:"large"})):s.a.createElement("div",null,s.a.createElement("select",{name:"",id:"start-year-temp",onChange:function(e){t.setStart(e)},value:this.value},this.state.years.map((function(t,e){return s.a.createElement("option",{key:"year".concat(e),value:t},t)}))),s.a.createElement("select",{name:"",id:"end-year-temp",onChange:function(e){t.setEnd(e)},value:this.value},this.state.years.reverse().map((function(t,e){return s.a.createElement("option",{key:"year".concat(e),value:t},t)}))),s.a.createElement(h.a,{data:this.state,options:{title:{display:!0,text:"Average Temperature",fontSize:20},legend:{display:!0,position:"right"}}}))}}]),a}(n.Component)),g=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={fetchedData:null,labels:[],datasets:[{label:"",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[]}],years:null,startYear:"1881",endYear:"2006"},n}return Object(l.a)(a,[{key:"chunkify",value:function(t,e,a){if(e<2)return[t];var n,s=t.length,r=[],i=0;if(s%e===0)for(n=Math.floor(s/e);i<s;)r.push(t.slice(i,i+=n));else if(a)for(;i<s;)n=Math.ceil((s-i)/e--),r.push(t.slice(i,i+=n));else{for(e--,s%(n=Math.floor(s/e))===0&&n--;i<n*e;)r.push(t.slice(i,i+=n));r.push(t.slice(n*e))}return r}},{key:"lastValue",value:function(t){var e=t[t.length-1];return e[e.length-1]}},{key:"getAverageValue",value:function(t){var e=0;for(var a in t)e+=t[a].v;return e/t.length}},{key:"getYears",value:function(t){var e=[];return t.forEach((function(t){e.push(t.t.match(/^\d{4}/)[0])})),e.filter((function(t,a){return e.indexOf(t)===a}))}},{key:"getData",value:function(){var t=Object(m.a)(p.a.mark((function t(){var e,a,n,s,r,i=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:5000/prec",t.next=3,fetch("http://localhost:5000/prec");case 3:return e=t.sent,t.next=6,e.json();case 6:a=t.sent,this.setState({fetchedData:a.filter((function(t){return t.t.match(/^\d{4}/)[0]>=i.state.startYear&&t.t.match(/^\d{4}/)[0]<=i.state.endYear}))}),n=this.chunkify(this.state.fetchedData,10,!0),console.log(n),s=this.state.labels,r=this.state.datasets,n.map((function(t){s.push("".concat(t[0].t.match(/^\d{4}/)," - ").concat(t[t.length-1].t.match(/^\d{4}/))),r[0].data.push(i.getAverageValue(t))})),this.setState({labels:s,datasets:r,years:this.getYears(this.state.fetchedData)});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setStart",value:function(t){this.setState({startYear:t.target.value})}},{key:"setEnd",value:function(t){this.setState({endYear:t.target.value})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(t,e){var a=this;if(e.startYear!==this.state.startYear&&this.state.endYear>this.state.startYear||e.endYear!==this.state.endYear&&this.state.endYear>this.state.startYear){console.log("state has changed."),this.setState({fetchedData:this.state.fetchedData.filter((function(t){return t.t.match(/^\d{4}/)[0]>=a.state.startYear&&t.t.match(/^\d{4}/)[0]<=a.state.endYear}))});var n=this.chunkify(this.state.fetchedData,10,!0);console.log(n);var s=[],r=this.state.datasets;r[0].data=[],n.map((function(t){s.push("".concat(t[0].t.match(/^\d{4}/)," - ").concat(t[t.length-1].t.match(/^\d{4}/))),r[0].data.push(a.getAverageValue(t))})),this.setState({labels:s,datasets:r})}else(this.state.startYear>this.state.endYear||this.state.startYear==this.state.endYear)&&alert("fix values")}},{key:"render",value:function(){var t=this;return null===this.state.years?s.a.createElement("div",{className:"spinner"},s.a.createElement(v.a,{size:"large"})):s.a.createElement("div",null,s.a.createElement("select",{name:"",id:"start-year-temp",onChange:function(e){t.setStart(e)},value:this.value},this.state.years.map((function(t,e){return s.a.createElement("option",{key:"year".concat(e),value:t},t)}))),s.a.createElement("select",{name:"",id:"end-year-temp",onChange:function(e){t.setEnd(e)},value:this.value},this.state.years.reverse().map((function(t,e){return s.a.createElement("option",{key:"year".concat(e),value:t},t)}))),s.a.createElement(h.a,{data:this.state,options:{title:{display:!0,text:"Average Precipitation",fontSize:20},legend:{display:!0,position:"right"}}}))}}]),a}(n.Component),k=(a(226),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={displayTemperature:!0,displayPrecipitation:!1},n}return Object(l.a)(a,[{key:"displayTemp",value:function(){this.setState({displayTemperature:!0,displayPrecipitation:!1})}},{key:"displayPrec",value:function(){this.setState({displayTemperature:!1,displayPrecipitation:!0})}},{key:"render",value:function(){var t=this;return this.state.displayTemperature?s.a.createElement("div",{className:"App"},s.a.createElement(d.a,{onClick:function(){t.displayTemp()}},"Temperature"),s.a.createElement(d.a,{onClick:function(){t.displayPrec()}},"Precipitation"),s.a.createElement(y,{className:"App__temp"})):s.a.createElement("div",{className:"App"},s.a.createElement(d.a,{onClick:function(){t.displayTemp()}},"Temperature")," ",s.a.createElement(d.a,{onClick:function(){t.displayPrec()}},"Precipitation")," ",s.a.createElement(g,{className:"App__prec"}))}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[115,1,2]]]);
//# sourceMappingURL=main.2df149a0.chunk.js.map